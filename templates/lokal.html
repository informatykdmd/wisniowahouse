{% extends 'base.html' %}
{% block content %}
<!-- Breadcrumbs -->
<section class="bg-gray-7">
    <div class="breadcrumbs-custom box-transform-wrap context-dark">
      <div class="container">
        <h3 class="breadcrumbs-custom-title">Project Page</h3>
        <div class="breadcrumbs-custom-decor"></div>
      </div>
      <div class="box-transform" style="background-image: url(static/images/bg-project.jpg);"></div>
    </div>
    <div class="container">
      <ul class="breadcrumbs-custom-path">
        <li><a href="/">Home</a></li>
        <li><a href="projects.html">Projects</a></li>
        <li class="active">Project Page</li>
      </ul>
    </div>
  </section>
  <!-- Project Page-->
  <section class="section section-lg bg-default text-md-start">
    <div class="container">
      <div class="row row-60 flex-lg-row-reverse">
        <div class="col-lg-6 col-xl-7">
          <div class="slick-project">
            <!-- Slick Carousel-->
            <div class="slick-slider carousel-parent" data-arrows="true" data-autoplay="true" data-swipe="true" data-items="1" data-child="#child-carousel-7" data-for="#child-carousel-7" data-slide-effect="true">
              <div class="item"><img src="static/images/project-5-670x477.jpg" alt="" width="670" height="477"/>
                <div class="slick-project-caption">
                  <div class="slick-project-title">Photo #1</div>
                </div>
              </div>
              <div class="item"><img src="static/images/project-6-670x477.jpg" alt="" width="670" height="477"/>
                <div class="slick-project-caption">
                  <div class="slick-project-title">Photo #2</div>
                </div>
              </div>
              <div class="item"><img src="static/images/project-7-670x477.jpg" alt="" width="670" height="477"/>
                <div class="slick-project-caption">
                  <div class="slick-project-title">Photo #3</div>
                </div>
              </div>
              <div class="item"><img src="static/images/project-8-670x477.jpg" alt="" width="670" height="477"/>
                <div class="slick-project-caption">
                  <div class="slick-project-title">Photo #4</div>
                </div>
              </div>
            </div>
            <div class="slick-slider child-carousel" id="child-carousel-7" data-for=".carousel-parent" data-items="3" data-sm-items="3" data-md-items="4" data-lg-items="3" data-xl-items="4" data-slide-to-scroll="1">
              <div class="item"><img src="static/images/project-5-670x477.jpg" alt="" width="670" height="477"/>
              </div>
              <div class="item"><img src="static/images/project-6-670x477.jpg" alt="" width="670" height="477"/>
              </div>
              <div class="item"><img src="static/images/project-7-670x477.jpg" alt="" width="670" height="477"/>
              </div>
              <div class="item"><img src="static/images/project-8-670x477.jpg" alt="" width="670" height="477"/>
              </div>
            </div>
          </div>
          <div class="table-custom-responsive">
            <table class="table-custom table-custom-primary table-project">
              <tbody>
                <tr>
                  <td><span class="icon icon-26 mdi mdi-account"></span></td>
                  <td><span>Client:</span> Smith Ltd.</td>
                </tr>
                <tr>
                  <td><span class="icon mdi mdi-calendar-today"></span></td>
                  <td><span>Year:</span> 2010</td>
                </tr>
                <tr>
                  <td><span class="icon mdi mdi-map-marker"></span></td>
                  <td><span>Location:</span> Los Angeles</td>
                </tr>
                <tr>
                  <td><span class="icon icon-28 mdi mdi-cash"></span></td>
                  <td><span>Value:</span> $1.299.525,00</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <div class="col-lg-6 col-xl-5">
          <div class="project-page">
            <h4>Smith office center</h4>
            <p>Lanistas accelerare in secundus rugensis civitas! Heu, castus lamia! Eheu. Pol. Tolerare inciviliter ducunt ad ferox devirginato. Genetrixs accelerare in cubiculum! Dominas ortum in vasa! Gabaliums velum in tolosa!</p>
            <p>Primus repressors ducunt ad buxum. Fluctuis sunt boreass de audax lixa. Fidess messis! Navis volares, tanquam emeritis decor. Sunt quadraes resuscitabo noster, nobilis victrixes. Extum de germanus luna, locus silva! Habitios crescere, tanquam fatalis contencio. Cum lacta manducare, omnes bromiumes aperto salvus, bi-color parmaes. Rector, heuretes, et scutum. Abactuss messis in gratis chremisa!</p>
            <p>Nunquam experientia consilium. Ridetis vix ducunt ad fidelis devirginato. Demolitiones favere, tanquam rusticus extum. Coordinatae potuss, tanquam azureus accola.</p>
            <p>Finis de gratis historia, attrahendam vortex! Ubi est brevis guttus? Nunquam contactus nomen. Credere aliquando ducunt ad albus calcaria. Cannabiss manducare! Nunquam captis fides. Cur hydra ridetis? Cum abactus studere, omnes demolitionees attrahendam velox, alter extumes.</p>
            <div class="group-sm group-middle"><span class="project-page-social-title">Share</span>
              <div>
                <ul class="list-inline project-page-social-list">
                  <li><a class="icon mdi mdi-facebook" href="#"></a></li>
                  <li><a class="icon mdi mdi-twitter" href="#"></a></li>
                  <li><a class="icon mdi mdi-instagram" href="#"></a></li>
                  <li><a class="icon mdi mdi-google-plus" href="#"></a></li>
                </ul>
              </div>
            </div><a class="button button-lg button-primary button-winona" href="contacts.html">Contact Us</a>
          </div>
        </div>
      </div>
    </div>
  </section>
  
{% endblock %}

{% block bottom_scripts %}
<script>
    const tooltip = document.getElementById('tooltip');

    // Funkcja do ładowania danych z pliku JSON
    function loadLokale() {
        fetch('static/json/lokale.json')
            .then(response => response.json())
            .then(data => {
                data.forEach(lokal => {
                    const rect = document.querySelector(`.lokal[data-lokal="${lokal.id}"]`);
                    if (rect) {
                        rect.classList.remove('dostępny', 'rezerwacja', 'sprzedane');
                        rect.classList.add(lokal.status);

                        // Dodanie obsługi zdarzeń dla każdego lokalu
                        rect.addEventListener('mouseover', () => {
                            tooltip.style.display = 'block';
                            tooltip.innerHTML = `
                                <strong>Lokal: ${lokal.id}</strong><br>
                                Status: ${lokal.status}<br>
                                Cena: ${lokal.cena ? lokal.cena + ' PLN' : 'Niedostępny'}
                            `;
                        });

                        rect.addEventListener('mousemove', (e) => {
                            const offsetX = 10; // Przesunięcie w poziomie względem kursora
                            const offsetY = 10; // Przesunięcie w pionie względem kursora
                            tooltip.style.left = `${e.pageX + offsetX}px`;
                            tooltip.style.top = `${e.pageY + offsetY}px`;
                            // console.log(`e.pageX: ${e.pageX}, e.pageY: ${e.pageY}`);
                            // console.log(`tooltip.style.left: ${e.pageX + 10}px, tooltip.style.top: ${e.pageY + 10}px`);
                        });

                        rect.addEventListener('mouseout', () => {
                            tooltip.style.display = 'none';
                        });

                        rect.addEventListener('click', () => {
                            if (lokal.status === 'dostępny') {
                                alert(`Lokal ${lokal.id} jest dostępny za ${lokal.cena} PLN.`);
                            } else {
                                alert(`Lokal ${lokal.id} jest ${lokal.status}.`);
                            }
                        });
                    }
                });
            })
            .catch(error => console.error('Błąd podczas ładowania danych:', error));
    }

    // Inicjalizacja
    document.addEventListener('DOMContentLoaded', loadLokale);

</script>
{% endblock %}